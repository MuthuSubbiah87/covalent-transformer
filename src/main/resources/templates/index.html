<!DOCTYPE HTML>
<html>
	<head>
		<title>Covalent Transformer</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.0/angular.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>	
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="/js/controller.js"></script>	
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
		<link rel="stylesheet" href="/css/covalent.css" />
		<link rel="stylesheet" type="text/css" href="/css/component.css" />
		<link rel="stylesheet" type="text/css" href="/css/normalize.css" />
		<!-- <link rel="stylesheet" type="text/css" href="/css/demo.css" /> -->
	</head>
<body>
	<div class="container-fluid" ng-app="app" ng-controller="uploadController">
			<div class="row">
				<div class="loading-bar" ng-if="showLoading" >
					<div class="element-center element-vertical-center align-center">
						<span class="glyphicon glyphicon-time loading-time"></span>
						<h3>Please Wait</h3>
					</div>
				</div>
				
				<div class="align-center">
					<img src="/img/covalent_logo.jpg"/>
					<p class="sub-heading">Automated Metadata Correction Tool</p>
				</div>
			</div>
			
			<div class="row">
				<div class="col-sm-12 col-md-12 col-xs-12 col-lg-12 align-center formgroup-space">

					<div class="form-group">
						<input id="uploadFileId" class="inputfile inputfile-4 transparent" type="file"
									onchange="angular.element(this).scope().setFile(this)"/>
						<label ng-click="uploadFromImg()" for="file-5"><figure><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg></figure> <span>{{fileName}}</span></label>
					</div>
					

						<!-- <input type="file" name="file-1[]" id="file-1" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" /> -->
						
				
					<div class="form-group">
					<input class="btn btn-success" type="button" value="Upload"
										ng-click="uploadFile()" />&nbsp;&nbsp;
					<input class=" btn btn-success" type="button"
										value="Refresh List" ng-click="refreshList()" />
					</div>
					
						<div class="form-group">
						<br></br><br></br>
					</div>
					
					<div ng-show="isProgresBarVisible" class="form-group">
						<div class="progress">
							<div class="progress-bar progress-bar-striped active"
								role="progressbar" aria-valuenow="{{progress}}"
								aria-valuemin="0" aria-valuemax="100" style="{{progressStyle}}">
							</div>		
						</div>
						{{progress}}%
					</div>
					
					<div ng-show="showSuccess" class="alert alert-success alert-dismissable">
					    <a href="#" ng-click="closeMessage()" class="close" data-dismiss="alert" aria-label="close">Ã—</a>
					    <strong>Success!</strong> File Processed successfully. Please check you configured output folder.
  					</div>

				</div>
			</div>

			<div class="row">
				<div class="col-sm-12 col-md-12 col-xs-12 col-lg-12">
					<table class="table table-striped">
						<tr>
							<th>#</th>
							<th>Input File URL</th>
							<th>Output File URL</th>
							<th>Status</th>
							<th class="align-center">Delete All&nbsp;&nbsp;<span ng-click="deleteAllFiles()" class="glyphicon glyphicon-trash cursor-pointer"></span></th>
						</tr>
						<tr ng-repeat="eachFile in filesList.data">
							<td>{{$index}}</td>
							<td><a href="{{eachFile.fileUrl}}">{{eachFile.fileName}}</a></td>
							<td><a href="{{eachFile.fixedFileUrl}}">{{eachFile.fixedFileName}}</a></td>
							<td>{{eachFile.fixedFileStatus}}</td>
							<td class="align-center"><span ng-click="deleteFile(eachFile.id)" class="glyphicon glyphicon-trash cursor-pointer"></span></td>
						</tr>
					</table>
				</div>
			</div>

	</div>
</body>
</html>